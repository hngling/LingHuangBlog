[
  {
    "path": "posts/2021-02-14-vizcovid19survey/",
    "title": "Are you willing to get Covid-19 vaccination?",
    "description": "This post is meant to visualize the survey results of willingness of getting COVID19 Vaccination in various countries. The data is provided by [Imperial College London YouGov Covid 19 Behaviour Tracker Data Hub](https://github.com/YouGov-Data/covid-19-tracker) hosted at Github.",
    "author": [
      {
        "name": "Ling Huang",
        "url": "https://www.linghuang.cc"
      }
    ],
    "date": "2021-02-14",
    "categories": [],
    "contents": "\r\n1. Objective\r\nA research team from Imperial College London is currently conducting a survey to understand the willingness of the public on Covid-19 vaccination. Based on the collected results, they came up with the chart below to show the public’s opinion. \r\nAfter examine the chart and check the collected data, I would like to propose a new chart to better show the public’s attitude to the Covid-19 vaccination.\r\n2. Critics and Recommended Improvements\r\nIn terms of the clarity and aesthetics, the original charts have a lot of room for improvement. I marked some on the chart as below and summarized them in the below tables. \r\nClarity Issues\r\nS/N\r\nClarity\r\nRecommendations\r\n1\r\nThe survey was conducted by sampling the population in each country. So, uncertainties surely exist in the survey results. But the chart failed to present the confidence interval to indicate the uncertainties. The charts failed to hit the objective (i.e., show what countries favor the vaccine and what countries do not).\r\nWe need to add the Confidence Intervals into the chart.\r\n2\r\nThe ‘stacked bar chart’ on the left is to show the percentages of each answer. It is difficult for the users to interpret the percentages.\r\nReplace the stacked bar chart with Gantt Chart. In addition, display the average score of the responses.\r\n3\r\nThe ‘bar chart’ on the right, in fact, is part of the left chart. It just extracted the ‘1 - Strongly agree’ part and sorted in descending order. It looks a bit redundant.\r\nThe ‘sorting’ could be realized in one chart, in the left chart directly.\r\n4\r\nThe legend ‘Vac 1’ on the far right is not interpretable at all. The original question is ‘If a Covid-19 vaccine were made available to me this week, I would definitely get it’\r\nShow the exact original question(s) in the chart.\r\nAesthetic Issues\r\nS/N\r\nAesthetic\r\nRecommendations\r\n5\r\nCountry name is not capitalized.\r\nCapitalize the country name.\r\n6\r\nThe X-axis in two charts are not standardized. The X-axis on the left has no decimals whereas the X-axis on the right has decimal. They represent the same thing and the decimal does not add any values.\r\nRemove the decimal in the right chart.\r\n7\r\nBad fonts. And there is a spelling error ‘vacinne’ which should be ‘vaccine’.\r\nChoose a better font and fix the spelling error.\r\n\r\nTo fix the issues above, we proposed a new design. \r\n\r\n3. Sketch my proposed design\r\nAs mentioned earlier, I wanted to choose the Gantt chart. In the original dataset, there are too many questions. In our data viz, let’s focus on these questions below.\r\nTitle\r\nQuestion\r\nvac_2\r\nIf a Covid-19 vaccine becomes available to me in 2021, I definitely intend to get it.\r\nvac2_1\r\nI am worried about getting COVID19\r\nvac2_2\r\nI am worried about potential side effects of a COVID19 vaccine\r\nvac2_3\r\nI believe government health authorities in my country will provide me with an effective COVID19 vaccine\r\nvac2_6\r\nIf I do not get a COVID19 vaccine when it is available, I will regret it\r\nvac_3\r\nIf a Covid-19 vaccine becomes available to me a year from now, I definitely intend to get it\r\nThe responses are rated as below.\r\nRating\r\nMeaning\r\n1\r\nStrongly agree\r\n2\r\nAgree\r\n3\r\nNeutral\r\n4\r\nDisagree\r\n5\r\nStrongly disagree\r\nBesides, some on-demand parameters such as Gender, Age, Household Size, Household Children and Employment Status etc. are added so that the users are able to break down the results based on his/her interests.\r\nNote: The sketch below is created with UX design tool Axure RP 9.  (PS: as a Product Manager, often times I use it to sketch my ideas before I handover to engineers and UI designers.)If you are interested, you can download my sketch file here. \r\nS/N\r\nAdvantages\r\n1\r\nUse the Gantt chart and Confidence Intervals to display the uncertainty of the survey results.\r\n2\r\nBuild the on-demand filters for the users to view the data of their interest in an interactive way.\r\n3\r\nDisplay the exact original questions for the users to interpret the data.\r\n4\r\nBeautify the charts with better fonts and colors.\r\n\r\n4. Data Preparation\r\nThe original datasets are not suitable for us to use directly in Tableau. We need to massage them a bit to fit for our purpose.\r\nFYI. Since we only consider these 14 countries, let’s keep their files only: australia.csv, canada.csv, denmark.csv, finland.csv, france.csv, germany.csv, italy.csv, japan.csv, netherlands.csv, norway.csv, singapore.csv, south-korea.csv, sweden.csv, united-kingdom.csv.\r\nAs shown below, the original datasets contain too much information. We are only concerned with Gender, Age, Household_size, Household_children, Employment_status, vac2_1, vac2_2, vac2_3, vac2_6 and vac_3 etc., so let’s remove the unnecessary columns.\r\nRecordNo\r\nendtime\r\nqweek\r\ngender\r\nregion\r\n…\r\n0\r\n2/4/2020 15:18\r\nweek 1\r\nFemale\r\nRio de Janeiro\r\n…\r\n1\r\n2/4/2020 15:20\r\nweek 1\r\nFemale\r\nSao Paulo\r\n…\r\n2\r\n2/4/2020 15:22\r\nweek 1\r\nFemale\r\nGoias\r\n…\r\n3\r\n2/4/2020 15:23\r\nweek 1\r\nMale\r\nRio de Janeiro\r\n…\r\n4\r\n2/4/2020 15:25\r\nweek 1\r\nFemale\r\nRio de Janeiro\r\n…\r\n5\r\n2/4/2020 15:38\r\nweek 1\r\nMale\r\nMinas Gerais\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\nIn the Denmark, Finland, Norway and Sweden datasets, their employment status is spread to seven columns.\r\nemployment_status_1\r\nemployment_status_2\r\nemployment_status_3\r\nemployment_status_4\r\n…\r\nNo\r\nNo\r\nYes\r\nNo\r\n…\r\nYes\r\nNo\r\nNo\r\nNo\r\n…\r\nNo\r\nNo\r\nNo\r\nYes\r\n…\r\nNo\r\nNo\r\nNo\r\nNo\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\nLet’s replace the value ‘Yes’ with the actual value like ‘Full time employment’, ‘Not working’, ‘Part time employment’ and ‘Full time student’ etc., and merge them into one column ‘employment_status’ like other datasets.\r\nSome entries have multiple responses on this question, (e.g. the survey respondents chose ‘Yes’ for employment_status_1 and employment_status_2 at the same time. To avoid misunderstanding, we removed these entries.\r\nLet’s add one column ‘Country’ in each dataset, and capitalize the column names for gender, age, household_size, household_children and employment_status. The final clean dataset looks like the table below.\r\nCountry\r\nGender\r\nAge\r\nHousehold_size\r\nHousehold_children\r\nEmployment_status\r\nvac2_1\r\nvac2_2\r\nvac2_3\r\nvac2_6\r\nvac_3\r\nAustralia\r\nFemale\r\n66\r\n1\r\n0\r\nRetired\r\n5\r\n3\r\n3\r\n1\r\n1\r\nAustralia\r\nMale\r\n62\r\n1\r\n0\r\nPart time employment\r\n4\r\n4\r\n2\r\n3\r\n2\r\nAustralia\r\nFemale\r\n34\r\n1\r\n0\r\nPart time employment\r\n3\r\n2\r\n1\r\n1\r\n1\r\nAustralia\r\nMale\r\n43\r\n1\r\n0\r\nFull time employment\r\n4\r\n4\r\n3\r\n3\r\n4\r\nAustralia\r\nFemale\r\n38\r\n1\r\n0\r\nPart time employment\r\n5\r\n2\r\n5\r\n5\r\n1\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\n…\r\nSave each country’s dataset as .csv file. Keep them in one folder.\r\nI uploaded the final datasets here for your download.\r\n5. Step by step implementation in Tableau\r\nStep 1\r\nLoad the australia.csv file into Tableau. As you may have seen, all .csv files appear in the ‘Files’ pane on the left side. \r\nStep 2\r\nClick the dropdown arrow of australia.csv data, and click ‘Remove’ button. \r\nStep 3\r\nNow, we need merge all files into one. So, to create a new union datatable, 1. click the New Union button in the ‘Files’ pane; 2. then select all data files in the ‘Files’ pane; 3. then drag them into the New Union pop-up window; 4. click ‘OK’ button. \r\nStep 4\r\nNew union data show up as below. \r\nStep 5\r\nWe need to make some changes on the data.\r\nchange the data type of Household_children to ‘Number(whole)’. \r\nRename the title of columns vac2_1, vac2_2, vac2_3, vac2_6 and vac_3 with the exact survey questions. \r\nHide the last two columns F12 and Table Name \r\nSelect the columns of Survey questions. Right click, then select ‘Pivot’ to transform the data. \r\nNewly pivot data appears like the table below. \r\nRename the title of the columns as bellow.\r\nPivot Field Names -> Survey Question\r\nPivot Field Values -> Rating Score\r\nHousehold_size -> Household Size\r\nHousehold_children -> Household Children\r\nEmployment_status -> Employment Status \r\n\r\nStep 6\r\nAfter update the column titles, now we can start to build the worksheet. Click the worksheet tab.\r\nRename worksheet to ‘COVID19-Survey’.\r\nRight click the ‘Household Children’ and convert it to dimension. \r\nRight click the ‘Household Size’ and convert it to dimension. \r\nNow, the ‘Household Children’ and ‘Household Size’ move up. \r\nStep 7\r\nNow, we need to create parameter(s) and calculated field(s)/\r\nRight click the white space on the bottom left side. Select ‘Create Parameter…’. \r\nName is ‘Confidence Intervals’. And add three values into the list. \r\nGo to ‘Analysis’ menu and click ‘Create Calculated Field….’ . \r\nwe need to create some fields to generate Lower Bar, Upper Bar and Bar Length for 90%, 95% and 99% Confidence Interval (CI) respectively. Formula are shown as below.\r\nLower_Bar 90%  (Z-value for 90% CI is 1.645) \r\nUpper_Bar 90%  \r\nBar_length 90%  \r\nLower_Bar 95%  (Z-value for 95% CI is 1.96) \r\nUpper_Bar 95%  \r\nBar_length 95%  \r\nLower_Bar 99%  (Z-value for 99% CI is 2.576) \r\nUpper_Bar 99%  \r\nBar_length 99% \r\nLower_Bar  \r\nBar_length \r\n\r\nStep 8\r\nAfter create the parameter and calculated fields, let’s start to plot the chart. \r\nDrag the Country to Rows, and the Rating Score and Lower_Bar to Columns. \r\nChange the measure of Rating Score from Sum to Average. \r\nGo to AVG(Rating Score) pane. Change its shape to Circle. \r\nGo to AGG(Lower_Bar) pane. Change its shape to Gantt Bar. \r\nGo to x-axis of Lower_Bar. Right click and select Dual Axis. \r\nRight click the x-axis. Click Synchronize Axis. \r\nDrag the Bar_length and drop on the Size option under AGG(Lower_Bar) pane. \r\nAdjust the size of AGG(Lower_Bar) and try to make it thinner. \r\nClick Color of AVG(Rating Score) and click Edit Color… \r\nPick two contrasting colors for them:Avg. Rating Score and Lower_Bar. \r\nClick the sort icon of x-axis to make it sort by descending order. Then, Right click the x-axis, and select Edit Axis… \r\nChange the General setting as below. Name the x-axis to ‘Rating Score’ \r\nChange the Tick Marks settings as below. \r\nGo to top header Lower_Bar. Right Click and untick Show Header. Let’s hide the top header. \r\nStep 9\r\nNow, we need to show the filters to make the chart as interactive.\r\nAdd the the dimensions into the Filters pane. \r\nAdd the the Age into the Filters pane. \r\nClick the arrow of each filter and tick Show Filter. \r\nFor each filter, select their displayed pattern as below. \r\nStep 10\r\nNow, we need to show the Confidence Intervals parameter.\r\nclick its arrow button, and tick ‘Show Parameter’. \r\nThen, select its displayed pattern.\r\nLet’s hide the Measure Names card.\r\nStep 11\r\nNow, we need to do some adjustments on the format of the chart.\r\nRight click the x-axis and then click the Format….\r\nFormat it as below.\r\nRight click the y-axis and and then click the Format….\r\nFormat it as below.\r\nRight click the header and and then click the Format….\r\nFormat it as below.\r\nEdit the title as below.\r\nFormat the title as below.\r\nAdd the annotation.\r\nFormat the annotation as below.\r\nAdd the annimations.\r\nConfigure the annimations.\r\nStep 12\r\nNow, we need to create the dashboard.\r\nRename the dashboard to Covid-19 Vaccine Survey, tick the option ‘Show dashboard title’ and then add the worksheet COVID19_Survey into the dashboard.\r\nAdjust the layout of the dashboard. Move these filters and the parameter to the top. Re-align them as the screen below display.\r\n\r\n\r\nThe screen above lacks the dashboard title. Let’s edit the dashboard title as shown below.\r\nRight click the title and select the Format Title….\r\nFormat the title as shown below.\r\nVoila! Here is the final dashboard!\r\n\r\n\r\n6. Final Data Visualization in Tableau\r\nHere is the final interactive data visualization in Tableau. You can visit my Tableau Public Profile to play around.\r\n\r\n\r\n7. Major Observations from my Data Viz\r\nDuring the implementation progress, we can find out three major observations.\r\nObservation 1\r\nBy checking the gender discrepancy on the below two questions, we realize that Female are more worried than Male significantly in very country on getting the Covid19 virus and the potential side effects of the vaccine.\r\nQuestion: I am worried about getting COVID19.\r\nQuestion: I am worried about potential side effects of a COVID19 vaccine.\r\n\r\n\r\n\r\n\r\nObservation 2\r\nBy checking the countries on the below two questions, it is easily to observe that by and large Group 1(Asian Countries: Japan, South Korea and Singapore) are more worried than other countries (Group 2 except France) on getting Covid19 and then potential side effects of the vaccine.\r\nQuestion: I am worried about getting COVID19.\r\nQuestion: I am worried about potential side effects of a COVID19 vaccine.\r\n\r\n\r\n\r\n\r\nObservation 3\r\nWhen it comes to the zeal for vaccination, the people in United Kingdom and Denmark had astonishingly much higher rating scores than other countries. They claimed that they will definitely take the vaccination.\r\nQuestion: If I do not get a COVID19 vaccine when it is available, I will regret it\r\nQuestion: If a Covid-19 vaccine becomes available to me a year from now, I definitely intend to get it.\r\n\r\n\r\n\r\n\r\n++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\nDistill is a publication format for scientific and technical writing, native to the web.\r\nLearn more about using Distill at https://rstudio.github.io/distill.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-02-14-vizcovid19survey/covid19vaccine.jpg",
    "last_modified": "2021-02-19T22:10:48+08:00",
    "input_file": "vizcovid19survey.utf8.md"
  },
  {
    "path": "posts/welcome/",
    "title": "Welcome to Tech Blog",
    "description": "Welcome to my blog, Tech Blog. I hope you enjoy \nreading it!",
    "author": [
      {
        "name": "Ling Huang",
        "url": "https://ling.party"
      }
    ],
    "date": "2021-01-24",
    "categories": [],
    "contents": "\r\n\r\n\r\n\r\n",
    "preview": {},
    "last_modified": "2021-01-24T14:58:16+08:00",
    "input_file": {}
  },
  {
    "path": "posts/2021-01-24-my-1st-dataviz-makeover-in-2021/",
    "title": "SG Residents Labor Force Participation Rate and Shares by Ages (2009 vs. 2019)",
    "description": "In this post, I would like to present Singapore Residents Labor Force Participation Rate and Shares by Ages in 2009 and in 2019 via the tool Tableau.  \nBesides, I observed some of the important insights gained from the Data Viz.",
    "author": [
      {
        "name": "Ling Huang",
        "url": {}
      }
    ],
    "date": "2021-01-24",
    "categories": [],
    "contents": "\r\n1. Objective\r\nSingapore Ministry of Manpower released the report Labour Force in Singapore 2019 on 30-Jan-2020. On the page #22, it threw a statement that ‘More older residents in labor force’ and then illustrated it with the chart ‘Residents Labor Force by Age’. I attach the snapshot as below. \r\nAfter check the original data - Table 5, We feel that this illustration is misleading and cannot fully support the statement.\r\nTherefore, we made some changes on the illustration to better support the statement.\r\n2. Critics and Recommended Improvements\r\nFirst of all, the original chart contains a few Clarify issues and Aesthetic issues.\r\nClarity Issues\r\nY-axis does not exist, then it is very tough to gauge the heights. In addition, these two lines do not have the dots/markers which can highlight the value.\r\nThe shares of Age-groups for June 2009 and June 2019 are stacked together with the Age-groups as the X-axis. It looks like a data table, which undermines the usage of the chart. Since the two solid-lines are used to indicate the percentage of the share of Age-groups, it is redundant to show the numbers again at the bottom.\r\nThe ‘Per Cent’ should not displayed as the subtitle of the chart. Instead, it should be displayed as the unit of the Y-axis. The subtitle is on the top left corner whereas the shares of Age-group are at the bottom (i.e., X-axis). So, it makes the users difficult to interpret the chart.\r\nThe two reference lines (Median Age) neither mean the Age-group (e.g., 40-44, 45-49 etc.) nor mean the share of the Age-groups (e.g., 13.3%, 12.2% etc.). They are just purely two numbers (41 and 44). So, they should not refer to the X-axis. It could be displayed as an annotation.\r\nThe title and subtitle are not helpful for users to understand the context.\r\nThe LFPR data is mentioned in the statement, but it is not shown in the chart.\r\nThe statement compares the shares of labor force Aged 25~54 with the one Aged 55 or over. But it is not clearly illustrated in the chart.\r\nAesthetic Issues\r\nColors of June 2009 and June 2019 do not contrast strongly with each other. They use the Dark Blue and Dark Grey.\r\nAll the text in the chart (except the Source and Note) use the same fonts.\r\nGrid line is missing on the chart.\r\nThese two solid-lines (not the reference lines) do not have the dots/markers.\r\n\r\nBased on the issues, we proposed some improvements to handle these issues. \r\n\r\nImprovements for the Clarity Issues and their merits\r\nAdd Y-axis, axis title and unit; -> so it can be easier to gauge the heights.\r\nRemove the stacked data (June 2009 and June 2019) from the bottom X-axis; -> so it can make the chart looks clear and neat.\r\nRemove the ‘Per Cent’ subtitle. Instead, set it as the unit of Y-axis; -> so the end-users can interpret the unit of data.\r\nRemove the two Reference line. Instead, add them as annotation; -> it is to remove misleading reference line.\r\nChange the title and subtitle to meaningful ones which reflect the context and objectives. -> so the end-users can interpret the whole chart easily.\r\nImprovements for the Aethetic Issues and their merits\r\nChange the colors of 2009-June and 2019-June to make them contrast strongly; -> so the comparison would be more obvious.\r\nChange the fonts, use different fonts for axis title, Legend, Title and Annotation etc.; -> so we can highlight the key messages.\r\nAdd the grid lines for Y-axis; -> so the end-users can interpret the chart easily.\r\n3. Sketch the design\r\nAs the report mentioned the Residents Local Force Participation Rate, we can add it into the chart as well.\r\nThe upper part of the chart is the Participation Rate of Ages in 2009-June versus in 2019-June.\r\nThe lower part of the chart is the Shares of Ages in 2009-June versus in 2019-June.\r\n\r\n4. Data Preparation\r\nSince we wanted to add the Participation Rate in the chart, we need to download the original data and put it together with the Shares of Ages in one data table.Note: LFPR stands for Labor Force Participation Rate.\r\nAges\r\nLFPR 2009-June\r\nLFPR 2019-June\r\nShares 2009-June\r\nShares 2019-June\r\n15~19\r\n11.8\r\n15.1\r\n1.6\r\n1.6\r\n20~24\r\n63.5\r\n61.0\r\n7.4\r\n6.4\r\n25~29\r\n89.3\r\n90.1\r\n11.1\r\n10.3\r\n30~34\r\n88.3\r\n92.3\r\n12.5\r\n10.9\r\n35~39\r\n85.8\r\n89.6\r\n13.5\r\n11.5\r\n40~44\r\n84.4\r\n88.7\r\n13.3\r\n11.6\r\n45~49\r\n82.1\r\n87.9\r\n13.3\r\n12.2\r\n50~54\r\n78.1\r\n82.3\r\n11.7\r\n11.0\r\n55~59\r\n68.4\r\n75.0\r\n8.0\r\n10.2\r\n60~64\r\n50.6\r\n63.9\r\n4.6\r\n7.3\r\n65~79\r\n29.9\r\n46.1\r\n1.8\r\n4.5\r\n70 & Over\r\n10.5\r\n17.6\r\n1.2\r\n2.7\r\n5. Tableau Data Visualization\r\nFinal Data Visualization in Tableau.  You can go to my Tableau Public to view High Resolution version.\r\n6. Implementation Guide in Tableau (Step by Step)\r\nLoad the excel file into Tableau\r\nDrag the Ages into Columns, Drag the LFPR 2009-June to the Rows, Drag the LFPR 2019-June on the right side of the chart. \r\nChange it to Line and choose ‘All’ Markers in the Color window. \r\nDrag the Shares 2009-June to Rows and Drag Shares 2019-June to the right side of 2nd chart. \r\nRight click any in the Measure Names pane. Edit all the Alias. Then rename them as easily understandable ones.\r\nRight click any in the Measure Names pane. Click Edit Colors. Then select the contrast colors for 2009 and 2019.\r\nChange the Share 2009-June and Share 2019-June to Area. \r\nSynchronize the Axis for both the upper part of the chart (i.e, Participation Rate) and the lower part of the chart(i.e. Shares).\r\nSelect the Axis on the left side and update the Axis titles. Remove the Right sides Axis titles.\r\nGo to X-axis. Exclude the 15~19 and 20~24 data (In terms of the Participation Rate and Shares of Labor Force, we can observe that there is no big difference between 2009-June and 2019-June for these two Age groups). Let us remove them and focus more on the labors Aged 25 and above.\r\nRight click anywhere on the chart to add a few Annotations. \r\nRight click the title to edit the title. I rename it as ‘Singapore Residents Labor Force Participation Rate and Shares by Ages’. \r\n7. Major Observations from Data Viz\r\nDuring the implementation progress, we can find out three major observations.\r\nFor the Ages 15~24, in terms of Participation Rate and Shares in Total Labor Force, there are no big differences between 2009-June and 2019-June.\r\nIn 2009-June the majority of Labor Force came from ages 25~54 whereas in 2019-June the majority came from ages 25~59. It implies that people tend to stay longer years in their career. Perhaps more and more employers like to keep the older workers in the workplace, but further investigations are required to prove it.\r\nIn general, almost all ages have higher participation rate in 2019-June than in 2009-June.\r\n\r\n\r\n\r\n",
    "preview": "posts/2021-01-24-my-1st-dataviz-makeover-in-2021/SingaporeLabor.jpg",
    "last_modified": "2021-02-19T22:11:36+08:00",
    "input_file": "my-1st-dataviz-makeover-in-2021.utf8.md"
  }
]
